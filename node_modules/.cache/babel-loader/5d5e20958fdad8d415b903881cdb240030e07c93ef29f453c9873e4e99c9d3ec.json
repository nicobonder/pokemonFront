{"ast":null,"code":"import _slicedToArray from\"C:/Users/Nicolas/Documents/Nico/Henry/PI/deployPoke/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';//import s from './SearchBar.module.css'\nimport'./SearchBar.css';import{useDispatch,useSelector}from\"react-redux\";import{useHistory}from\"react-router-dom\";import*as actions from\"../../redux/actions\";import Swal from'sweetalert2';import ErrorPokemon from'./ErrorPokemon.jpeg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Search(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var dispatch=useDispatch();var history=useHistory();var pokemons=useSelector(function(state){return state.allPokemons;});//estado global con todos los Pokes\nvar showAlertNoEnter=function showAlertNoEnter(){Swal.fire({//icon:'warning',\nimageUrl:ErrorPokemon,imageHeight:150,imageWidth:200,imageAlt:'There was an error.',title:'Pokemon App Searcher',html:'<h3>Please, enter some name</p>',footer:'<p>Try again.</p>'});};var showAlertNoName=function showAlertNoName(){Swal.fire({//icon:'warning',\nimageUrl:ErrorPokemon,imageHeight:150,imageWidth:200,imageAlt:'There was an error.',title:'Pokemon App Searcher',html:'<h3>That Pokemon doesnt exist</p>',footer:'<p>Try again.</p>'});};function handleInputChange(e){//setea el name con lo que va escribiendo el usuario\ne.preventDefault();setName(e.target.value);console.log('search',e.target.value);}function handleSearch(e){e.preventDefault();console.log('pokemons en search',pokemons);if(!name){showAlertNoEnter();return;}var findPoke=pokemons.find(function(poke){return poke.name.toLowerCase()===name.toLowerCase();});console.log('findPoke en search',findPoke);if(findPoke){dispatch(actions.searchPokemon(name));history.push(\"/pokemons/\".concat(findPoke.id));}else{showAlertNoName();}setName('');//vacia el input\n}return/*#__PURE__*/_jsxs(\"div\",{className:\"searchContainer\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"searchBar\",type:\"text\",placeholder:\"Search by name\",onChange:function onChange(e){return handleInputChange(e);},value:name}),/*#__PURE__*/_jsx(\"button\",{className:\"btnSearch\",onClick:function onClick(e){return handleSearch(e);},children:\"GO\"})]});}","map":{"version":3,"names":["React","useState","useDispatch","useSelector","useHistory","actions","Swal","ErrorPokemon","Search","name","setName","dispatch","history","pokemons","state","allPokemons","showAlertNoEnter","fire","imageUrl","imageHeight","imageWidth","imageAlt","title","html","footer","showAlertNoName","handleInputChange","e","preventDefault","target","value","console","log","handleSearch","findPoke","find","poke","toLowerCase","searchPokemon","push","id"],"sources":["C:/Users/Nicolas/Documents/Nico/Henry/PI/deployPoke/client/src/components/Navbar/Search.js"],"sourcesContent":["import React, { useState } from 'react'\r\n//import s from './SearchBar.module.css'\r\nimport './SearchBar.css'\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport * as actions from \"../../redux/actions\";\r\n\r\nimport Swal from 'sweetalert2';\r\nimport ErrorPokemon from './ErrorPokemon.jpeg';\r\n\r\nexport default function Search() {\r\n  const [name, setName] = useState(\"\")\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const pokemons = useSelector((state)=> state.allPokemons); //estado global con todos los Pokes\r\n  \r\n\r\n  const showAlertNoEnter=()=> {\r\n    Swal.fire({\r\n      //icon:'warning',\r\n      imageUrl: ErrorPokemon,\r\n      imageHeight: 150,\r\n      imageWidth: 200,\r\n      imageAlt: 'There was an error.',\r\n      title: 'Pokemon App Searcher', \r\n      html:'<h3>Please, enter some name</p>', \r\n      footer:'<p>Try again.</p>'\r\n    }\r\n    )\r\n  }\r\n\r\n  const showAlertNoName=()=> {\r\n    Swal.fire({\r\n      //icon:'warning',\r\n      imageUrl: ErrorPokemon,\r\n      imageHeight: 150,\r\n      imageWidth: 200,\r\n      imageAlt: 'There was an error.',\r\n      title: 'Pokemon App Searcher', \r\n      html:'<h3>That Pokemon doesnt exist</p>', \r\n      footer:'<p>Try again.</p>'\r\n    }\r\n    )\r\n  }\r\n\r\n  function handleInputChange(e) { //setea el name con lo que va escribiendo el usuario\r\n    e.preventDefault();\r\n    setName(e.target.value)\r\n    console.log('search', e.target.value)\r\n  }\r\n\r\n function handleSearch(e) {\r\n  e.preventDefault();\r\n  console.log('pokemons en search', pokemons)\r\n  if (!name) {\r\n    showAlertNoEnter();\r\n    return;\r\n  }\r\n  let findPoke = pokemons.find((poke) => poke.name.toLowerCase() === name.toLowerCase());\r\n  console.log('findPoke en search', findPoke);\r\n  if (findPoke) {\r\n    dispatch(actions.searchPokemon(name));\r\n    history.push(`/pokemons/${findPoke.id}`);\r\n  } else {\r\n    showAlertNoName();\r\n  }\r\n  setName(''); //vacia el input\r\n}\r\n\r\n  return (\r\n    <div className=\"searchContainer\">\r\n      <input \r\n        className=\"searchBar\" \r\n        type='text' \r\n        placeholder= \"Search by name\"\r\n        onChange={(e) => handleInputChange(e)} \r\n        value={name} \r\n      />\r\n      <button className=\"btnSearch\" onClick={(e) => handleSearch(e)}>GO</button>\r\n    </div>\r\n     \r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}