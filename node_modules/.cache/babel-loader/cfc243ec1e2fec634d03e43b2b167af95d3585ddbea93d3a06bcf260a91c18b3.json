{"ast":null,"code":"import React,{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import*as actions from\"../../redux/actions\";import{Link,useHistory}from\"react-router-dom\";import s from\"./Detail.module.css\";import logo from\"../Navbar/pokeLogo.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Detail(props){var _pokemonDetail$types;var history=useHistory();var dispatch=useDispatch();var pokemonDetail=useSelector(function(state){return state.pokemonDetail;});//estado global\nuseEffect(function(){dispatch(actions.getPokemonDetail(props.match.params.id));//al cargar dispara el estado de pokemonDetial para el poke q tiene el id de params\nreturn function(){dispatch(actions.cleanPokemon());//al desmontar la pagina se limpia el detalle para que no aparezca cdo cargo uno nuevo\n};},[dispatch,props.match.params.id]);function handleDeletePokemon(){//func para borrar el pokemon\ndispatch(actions.deletePokemon(props.match.params.id));history.push(\"/pokemons\");}return/*#__PURE__*/_jsx(\"div\",{className:s.detailSection,children:pokemonDetail.img?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Link,{className:s.backButton,to:\"/pokemons\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-caret-left\"}),\" Back\"]}),/*#__PURE__*/_jsxs(\"div\",{className:s.pokeDetail,children:[/*#__PURE__*/_jsxs(\"h2\",{className:s.detailTitle,children:[pokemonDetail.name,\" - #\",props.match.params.id.slice(0,4)]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{className:s.detailImg,src:pokemonDetail.img//Las props del obj las tomo de pokemonDetail\n,alt:\"pokemon \".concat(props.match.params.id.slice(0,4))//como tengo id de los creados, corto p/ q no sean tan largos\n})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:s.infoDiv,children:[/*#__PURE__*/_jsx(\"h3\",{className:s.detailSubTitle,children:\"HP\"}),/*#__PURE__*/_jsx(\"p\",{className:s.infoDetail,children:pokemonDetail.hp})]}),/*#__PURE__*/_jsxs(\"div\",{className:s.infoDiv,children:[/*#__PURE__*/_jsx(\"h3\",{className:s.detailSubTitle,children:\"Attack\"}),/*#__PURE__*/_jsx(\"p\",{className:s.infoDetail,children:pokemonDetail.attack})]}),/*#__PURE__*/_jsxs(\"div\",{className:s.infoDiv,children:[/*#__PURE__*/_jsx(\"h3\",{className:s.detailSubTitle,children:\"Defense\"}),/*#__PURE__*/_jsx(\"p\",{className:s.infoDetail,children:pokemonDetail.defense})]}),/*#__PURE__*/_jsxs(\"div\",{className:s.infoDiv,children:[/*#__PURE__*/_jsx(\"h3\",{className:s.detailSubTitle,children:\"Speed\"}),/*#__PURE__*/_jsx(\"p\",{className:s.infoDetail,children:pokemonDetail.speed})]}),/*#__PURE__*/_jsxs(\"div\",{className:s.infoDiv,children:[/*#__PURE__*/_jsx(\"h3\",{className:s.detailSubTitle,children:\"Height\"}),/*#__PURE__*/_jsx(\"p\",{className:s.infoDetail,children:pokemonDetail.height})]}),/*#__PURE__*/_jsxs(\"div\",{className:s.infoDiv,children:[/*#__PURE__*/_jsx(\"h3\",{className:s.detailSubTitle,children:\"Weight\"}),/*#__PURE__*/_jsx(\"p\",{className:s.infoDetail,children:pokemonDetail.weight})]}),/*#__PURE__*/_jsxs(\"div\",{className:s.infoDiv,children:[/*#__PURE__*/_jsx(\"h3\",{className:s.detailSubTitle,children:\"Type\"}),(_pokemonDetail$types=pokemonDetail.types)===null||_pokemonDetail$types===void 0?void 0:_pokemonDetail$types.map(function(t,index){return/*#__PURE__*/_jsx(\"p\",{className:s.infoDetail,children:t+\",\"},index);})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:s.btnDiv,children:[!pokemonDetail.createdInDB?/*#__PURE__*/ //si poke no tiene la prop createdInDB no aparece el btn\n_jsx(\"button\",{className:s.btnNot,type:\"submit\",disabled:true,children:\"Update\"}):/*#__PURE__*/_jsx(Link,{className:s.btnDetail,to:\"/pokemons/\".concat(props.match.params.id,\"/edit\"),children:\"Update\"})//el btn lleva al form de update\n,!pokemonDetail.createdInDB?/*#__PURE__*/_jsx(\"button\",{className:s.btnNot,disabled:true,children:\"Delete\"}):/*#__PURE__*/_jsx(\"button\",{className:s.btnDetail,onClick:handleDeletePokemon,children:\"Delete\"})]})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:s.loading,children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Loading Pokemons\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"LOADING\"})]})});}","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","actions","Link","useHistory","s","logo","Detail","props","history","dispatch","pokemonDetail","state","getPokemonDetail","match","params","id","cleanPokemon","handleDeletePokemon","deletePokemon","push","detailSection","img","backButton","pokeDetail","detailTitle","name","slice","detailImg","infoDiv","detailSubTitle","infoDetail","hp","attack","defense","speed","height","weight","types","map","t","index","btnDiv","createdInDB","btnNot","btnDetail","loading"],"sources":["C:/Users/Nicolas/Documents/Nico/Henry/PI/deployPoke/client/src/components/Detail/Detail.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport * as actions from \"../../redux/actions\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport s from \"./Detail.module.css\";\r\nimport logo from \"../Navbar/pokeLogo.png\";\r\n\r\nexport default function Detail(props) {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const pokemonDetail = useSelector((state) => state.pokemonDetail); //estado global\r\n\r\n  useEffect(() => {\r\n    dispatch(actions.getPokemonDetail(props.match.params.id)); //al cargar dispara el estado de pokemonDetial para el poke q tiene el id de params\r\n    return () => {\r\n      dispatch(actions.cleanPokemon()); //al desmontar la pagina se limpia el detalle para que no aparezca cdo cargo uno nuevo\r\n    };\r\n  }, [dispatch, props.match.params.id]);\r\n\r\n  function handleDeletePokemon() {\r\n    //func para borrar el pokemon\r\n    dispatch(actions.deletePokemon(props.match.params.id));\r\n    history.push(\"/pokemons\");\r\n  }\r\n\r\n  return (\r\n    <div className={s.detailSection}>\r\n      {pokemonDetail.img ? (\r\n        <>\r\n          <Link className={s.backButton} to=\"/pokemons\">\r\n            <i className=\"fa-solid fa-caret-left\"></i> Back\r\n          </Link>\r\n          <div className={s.pokeDetail}>\r\n            <h2 className={s.detailTitle}>\r\n              {pokemonDetail.name} - #{props.match.params.id.slice(0, 4)}\r\n            </h2>\r\n            <div>\r\n              <img\r\n                className={s.detailImg}\r\n                src={pokemonDetail.img} //Las props del obj las tomo de pokemonDetail\r\n                alt={`pokemon ${props.match.params.id.slice(0, 4)}`} //como tengo id de los creados, corto p/ q no sean tan largos\r\n              />\r\n            </div>\r\n            <div>\r\n              <div className={s.infoDiv}>\r\n                <h3 className={s.detailSubTitle}>HP</h3>\r\n                <p className={s.infoDetail}>{pokemonDetail.hp}</p>\r\n              </div>\r\n              <div className={s.infoDiv}>\r\n                <h3 className={s.detailSubTitle}>Attack</h3>\r\n                <p className={s.infoDetail}>{pokemonDetail.attack}</p>\r\n              </div>\r\n              <div className={s.infoDiv}>\r\n                <h3 className={s.detailSubTitle}>Defense</h3>\r\n                <p className={s.infoDetail}>{pokemonDetail.defense}</p>\r\n              </div>\r\n              <div className={s.infoDiv}>\r\n                <h3 className={s.detailSubTitle}>Speed</h3>\r\n                <p className={s.infoDetail}>{pokemonDetail.speed}</p>\r\n              </div>\r\n              <div className={s.infoDiv}>\r\n                <h3 className={s.detailSubTitle}>Height</h3>\r\n                <p className={s.infoDetail}>{pokemonDetail.height}</p>\r\n              </div>\r\n              <div className={s.infoDiv}>\r\n                <h3 className={s.detailSubTitle}>Weight</h3>\r\n                <p className={s.infoDetail}>{pokemonDetail.weight}</p>\r\n              </div>\r\n\r\n              <div className={s.infoDiv}>\r\n                <h3 className={s.detailSubTitle}>Type</h3>\r\n                {pokemonDetail.types?.map((t, index) => (\r\n                  <p className={s.infoDetail} key={index}>\r\n                    {t + \",\"}\r\n                  </p>\r\n                ))}\r\n              </div>\r\n            </div>\r\n            <div className={s.btnDiv}>\r\n              {\r\n                !pokemonDetail.createdInDB ? ( //si poke no tiene la prop createdInDB no aparece el btn\r\n                  <button className={s.btnNot} type=\"submit\" disabled>\r\n                    Update\r\n                  </button>\r\n                ) : (\r\n                  <Link\r\n                    className={s.btnDetail}\r\n                    to={`/pokemons/${props.match.params.id}/edit`}\r\n                  >\r\n                    Update\r\n                  </Link>\r\n                ) //el btn lleva al form de update\r\n              }\r\n              {!pokemonDetail.createdInDB ? (\r\n                <button className={s.btnNot} disabled>\r\n                  Delete\r\n                </button>\r\n              ) : (\r\n                <button className={s.btnDetail} onClick={handleDeletePokemon}>\r\n                  Delete\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <div className={s.loading}>\r\n          <img src={logo} alt=\"Loading Pokemons\" />\r\n          <h3>LOADING</h3>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}